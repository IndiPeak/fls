```python
from itertools import permutations  
  
a = "478 38 256 15 34 37 168 127".split()  
s = "DG GA AH HF FE ED FB HB BC CG".split()  
  
print('1 2 3 4 5 6 7 8')  
for p in permutations("ABCDEFHG"):  
    if all(str(p.index(x) + 1) in a[p.index(y)] for x, y in s):  
        print(*p)
```